# java运行时内存

## java运行时内存分布

### 程序计数器

java程序计数器指向正要执行的java指令的位置。

### java栈

储存java方法执行的环境，临时变量。

### native 栈

储存本地方法执行的环境。

### java堆

用做储存java运行时分配的对象

### 方法区

用来储存加载进来的class信息。

### 非java运行时内存

本地内存

## 对象如何在java堆上分配的

#### 类的加载

#### 内存的分配

1. 碰撞指针
2. 空闲列表
3. 并发问题

#### 对象的布局

1. 对象头
2. 实例数据
3. 补空位（对齐填充）

#### 对象的访问定位

1. 句柄
2. 直接指针

##  